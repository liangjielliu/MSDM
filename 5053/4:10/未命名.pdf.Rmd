---
title: "Starbucks Log Return Analysis"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## ğŸ“ æ•°æ®è¯»å–ä¸é¢„å¤„ç†

æˆ‘ä»¬åˆ†æ Starbucks è‚¡ç¥¨ä¸ S&P500 æŒ‡æ•°çš„å¯¹æ•°æ”¶ç›Šç‡æ•°æ®ã€‚æ–‡ä»¶ä¸º `d-sbuxsp0106.txt`ï¼ŒåŒ…å«æ—¥æœŸã€SBUX ç®€å•æ”¶ç›Šç‡ã€SP500 ç®€å•æ”¶ç›Šç‡ä¸‰åˆ—ã€‚

```{r}
# è¯»å–æ•°æ®
df <- read.table("d-sbuxsp0106.txt", header = FALSE)
colnames(df) <- c("Date", "SBUX_simple", "SP500_simple")

# è½¬æ¢æ—¥æœŸæ ¼å¼å¹¶æŒ‰æ—¶é—´æ’åº
df$Date <- as.Date(as.character(df$Date), format = "%Y%m%d")
df <- df[order(df$Date), ]
```

## ğŸ“ˆ è®¡ç®—å¯¹æ•°æ”¶ç›Šç‡ï¼ˆLog Returnï¼‰

```{r}
df$SBUX_log <- 100 * log(1 + df$SBUX_simple)
df$SP500_log <- 100 * log(1 + df$SP500_simple)
```

## ğŸ” ACF ä¸ PACF å›¾

```{r}
sbux_log <- na.omit(df$SBUX_log)

acf(sbux_log, lag.max = 10, main = "ACF of Starbucks Log Returns")
pacf(sbux_log, lag.max = 10, main = "PACF of Starbucks Log Returns")
```

## ğŸ§ª Ljung-Box æ£€éªŒ

```{r}
ljung_result <- Box.test(sbux_log, lag = 10, type = "Ljung-Box")
ljung_result
```

```{r}
if (ljung_result$p.value < 0.05) {
  cat("âœ… Ljung-Box æ£€éªŒç»“æœï¼špå€¼ =", round(ljung_result$p.value, 4), "ï¼Œæ‹’ç»ç™½å™ªå£°å‡è®¾ï¼Œåºåˆ—å­˜åœ¨æ˜¾è‘—åºåˆ—ç›¸å…³æ€§ã€‚\n")
} else {
  cat("ğŸ” Ljung-Box æ£€éªŒç»“æœï¼špå€¼ =", round(ljung_result$p.value, 4), "ï¼Œæœªæ‹’ç»ç™½å™ªå£°å‡è®¾ï¼Œåºåˆ—çœ‹èµ·æ¥åƒç™½å™ªå£°ã€‚\n")
}
```

## âœ… åˆ†ææ€»ç»“

-   æˆåŠŸè¯»å– Starbucks è‚¡ç¥¨æ”¶ç›Šç‡æ•°æ®\
-   è½¬æ¢ä¸ºå¯¹æ•°æ”¶ç›Šç‡\
-   ACF ä¸ PACF å›¾æ­ç¤ºä¸€é˜¶æ˜¾è‘—è‡ªç›¸å…³\
-   Ljung-Box æ£€éªŒæ”¯æŒå­˜åœ¨åºåˆ—ç›¸å…³æ€§\
-   âœ… åç»­å¯è¿›è¡Œ GARCH å»ºæ¨¡åˆ†æ
